(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform vec2 u_resolution;\n\nvarying vec2 v_texCoord;\n\nvoid main() {\n   // convert the rectangle from pixels to 0.0 to 1.0\n   vec2 zeroToOne = a_position / u_resolution;\n\n   // convert from 0->1 to 0->2\n   vec2 zeroToTwo = zeroToOne * 2.0;\n\n   // convert from 0->2 to -1->+1 (clipspace)\n   vec2 clipSpace = zeroToTwo - 1.0;\n\n   gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n\n   // pass the texCoord to the fragment shader\n   // The GPU will interpolate this value between points.\n   v_texCoord = a_texCoord;\n}\n"},22:function(e,t){e.exports="precision mediump float;\n// \u7eb9\u7406\nuniform sampler2D u_image;\nuniform vec2 u_textureSize;\nuniform float u_kernel[9];\nuniform float u_kernelWeight;\n\n// \u4ece\u9876\u70b9\u7740\u8272\u5668\u4f20\u5165\u7684\u7eb9\u7406\u5750\u6807\nvarying vec2 v_texCoord;\n \nvoid main() {\n   // \u5728\u7eb9\u7406\u4e0a\u5bfb\u627e\u5bf9\u5e94\u989c\u8272\u503c\n  vec2 onePixel = vec2(1.0, 1.0) / u_textureSize;\n  vec4 colorSum = texture2D(u_image, v_texCoord + onePixel * vec2(-1, -1)) * u_kernel[0] +\n    texture2D(u_image, v_texCoord + onePixel * vec2(0, -1)) * u_kernel[1] +\n    texture2D(u_image, v_texCoord + onePixel * vec2(1, -1)) * u_kernel[2] +\n    texture2D(u_image, v_texCoord + onePixel * vec2(-1, 0)) * u_kernel[3] +\n    texture2D(u_image, v_texCoord + onePixel * vec2(0, 0)) * u_kernel[4] +\n    texture2D(u_image, v_texCoord + onePixel * vec2(-1, 1)) * u_kernel[5] +\n    texture2D(u_image, v_texCoord + onePixel * vec2(0, 1)) * u_kernel[6] +\n    texture2D(u_image, v_texCoord + onePixel * vec2(1, 1)) * u_kernel[7];\n    \n  gl_FragColor = vec4((colorSum / u_kernelWeight).rgb, 1.0);\n}"},26:function(e,t,n){e.exports=n(42)},42:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(11),i=n.n(o),c=n(47),u=n(46),l=n(6),s=n(7),m=n(9),v=n(8),d=n(10);function f(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))return r;console.log(e.getShaderInfoLog(r)),e.deleteShader(r)}var h=n(21),_=n.n(h),p=n(22),E=n.n(p),g={edgeDetectKernel:[-1,-1,-1,-1,8,-1,-1,-1,-1],guassianBlur:[1,2,1,2,4,2,1,2,1],normal:[0,0,0,0,1,0,0,0,0]};function x(e){var t=new Image;t.src="/learn-webgl/build/leaves.jpg",t.onload=function(){!function(e,t){var n=e.getContext("webgl"),r=f(n,n.VERTEX_SHADER,_.a),a=f(n,n.FRAGMENT_SHADER,E.a),o=function(e,t,n){var r=e.createProgram();if(e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS))return r;console.log(e.getProgramInfoLog(r)),e.deleteProgram(r)}(n,r,a);n.useProgram(o);var i=n.getAttribLocation(o,"a_position"),c=n.getAttribLocation(o,"a_texCoord"),u=n.getUniformLocation(o,"u_kernel[0]"),l=n.getUniformLocation(o,"u_kernelWeight"),s=n.getUniformLocation(o,"u_textureSize");n.uniform2f(s,t.width,t.height);var m=g.normal;n.uniform1fv(u,m),n.uniform1f(l,function(e){var t=e.reduce(function(e,t){return e+t},0);return t<=0?1:t}(m));var v=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,v),function(e,t,n,r,a){var o=t,i=t+r,c=n,u=n+a;e.bufferData(e.ARRAY_BUFFER,new Float32Array([o,c,i,c,o,u,o,u,i,c,i,u]),e.STATIC_DRAW)}(n,0,0,t.width,t.height);var d=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,d);var h=[1,0],p=[0,1];n.bufferData(n.ARRAY_BUFFER,new Float32Array([].concat([0,0],h,p,p,h,[1,1])),n.STATIC_DRAW);var x=n.createTexture();n.bindTexture(n.TEXTURE_2D,x),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t);var b=n.getUniformLocation(o,"u_resolution");n.viewport(0,0,n.canvas.width,n.canvas.height),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.useProgram(o),n.enableVertexAttribArray(i),n.bindBuffer(n.ARRAY_BUFFER,v);var T=n.FLOAT;n.vertexAttribPointer(i,2,T,!1,0,0),n.enableVertexAttribArray(c),n.bindBuffer(n.ARRAY_BUFFER,d),n.vertexAttribPointer(c,2,T,!1,0,0),n.uniform2f(b,n.canvas.width,n.canvas.height);var w=n.TRIANGLES;n.drawArrays(w,0,6)}(e,t)}}var b=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(T,{initcanvas:x}))}}]),t}(r.Component),T=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.initcanvas;return a.a.createElement("div",null,a.a.createElement("canvas",{style:{border:"1px solid"},ref:function(t){t&&e(t)},id:"canvas-ex",width:"400",height:"400"},"canvas"))}}]),t}(r.Component),w=n(48),A=n(45),R=n(44),O=n(15),P=n(2),S="$three";function C(e){var t=new P.k,n=new P.i(60,1.5,.1,1e3),r=new P.o;r.domElement.className=S,r.shadowMapEnabled=!0,r.setSize(600,400),e&&!e.getElementsByClassName(S).length&&e.appendChild(r.domElement);var a=function(){var e=new P.b(10,10,10),t=new P.g({color:16711680,opacity:.5,transparent:!0,wireframe:!0}),n=(new P.g({wireframe:!0}),new P.f(e,t));return n.castShadow=!0,n.position.y=10,n}(),o=new P.a(20);t.add(o),t.add(a),t.add(function(){var e=new P.j(100,100),t=new P.h({color:11184810}),n=new P.f(e,t);return n.rotation.x=-.5*Math.PI,n.rotation.z=.1*Math.PI,n.position.set(0,0,0),n.receiveShadow=!0,n}()),t.add(function(){var e=new P.l(16777215);return e.position.set(0,100,0),e.shadow.mapSize=new P.m(4096,4096),e.castShadow=!0,e}()),n.position.set(-30,40,30),n.lookAt(0,0,0);var i=0;!function e(){requestAnimationFrame(e),i+=.01,a.rotation.z=i,a.rotation.y=Math.sin(-.5*Math.PI*i),a.material.opacity=Math.abs(Math.sin(Math.PI*i))+.1,r.render(t,n)}()}var j,y=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{ref:function(e){e&&C(e)}})}}]),t}(r.Component),k=Object(R.a)(j=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(O.TransitionGroup,{style:{position:"relative"}},a.a.createElement(O.CSSTransition,{timeout:{enter:800,exit:200},key:this.props.location.pathname,classNames:{enter:"fadeIn",enterActive:"animated",exit:"fadeOut",exitActive:"animated"}},a.a.createElement("div",{style:{position:"absolute",width:"100%"}},a.a.createElement(w.a,{location:this.props.location},this.props.children))))}}]),t}(r.Component))||j,D=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(k,null,a.a.createElement(A.a,{path:"/gl",component:b}),a.a.createElement(A.a,{path:"/three",component:y}))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(c.a,null,a.a.createElement("div",null,a.a.createElement(u.a,{to:"/gl"},"gl"),a.a.createElement(u.a,{to:"/three"},"three"),",",a.a.createElement(D,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.fb9e9fc7.chunk.js.map